<nz-space>
  <nz-space-item>
    <button nz-button (click)="load()" [nzLoading]="loading">
      <i nz-icon nzType="reload"></i>
      刷新
    </button>
  </nz-space-item>
  <nz-space-item>
    <button nz-button (click)="create()">
      <i nz-icon nzType="plus"></i>
      创建
    </button>
  </nz-space-item>
  <nz-space-item>
    <nz-input-group nzSearch nzCompact [nzAddOnAfter]="suffixButton">
      <input type="text" nz-input [(ngModel)]="keyword" placeholder="名称、地址"/>
    </nz-input-group>

    <ng-template #suffixButton>
      <button nz-button nzSearch (click)="search()">搜索</button>
    </ng-template>
  </nz-space-item>
</nz-space>
<nz-table #tbl [nzData]="variables" nzTableLayout="fixed" [nzFrontPagination]="false" [nzPageSize]="pageSize"
          [nzPageIndex]="pageIndex" [nzTotal]="total" [nzLoading]="loading" (nzQueryParams)="onTableQuery($event)">
  <thead>
  <tr>
    <th nzColumnKey="Id" [nzSortFn]="true">ID</th>
    <th nzColumnKey="ModelId" [nzSortFn]="true">项目ID</th>
    <th nzColumnKey="TunnelId" [nzSortFn]="true">链路ID</th>
    <th nzColumnKey="Name" [nzSortFn]="true">名称</th>
    <th nzColumnKey="Type" [nzSortFn]="true">类型</th>
    <th nzColumnKey="Addr" [nzSortFn]="true">地址</th>
    <th nzColumnKey="Default" [nzSortFn]="true">默认值</th>
    <th nzColumnKey="Writable" [nzSortFn]="true">可写</th>

<!--    <th nzColumnKey="Cron" [nzSortFn]="true">定时</th>-->

<!--    <th nzColumnKey="PollingEnable" [nzSortFn]="true">轮询</th>-->
<!--    <th nzColumnKey="PollingTimes" [nzSortFn]="true">轮询权重</th>-->

    <!--    <th nzColumnKey="Description" [nzSortFn]="true">说明</th>-->
    <th nzColumnKey="CreatedAt" [nzSortFn]="true">创建时间</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let data of tbl.data">
    <td>{{ data.id }}</td>
    <td>{{ data.model_id }}</td>
    <td>{{ data.tunnel_id }}</td>
    <td>{{ data.name }}</td>
    <td>{{ data.type }}</td>
    <td>{{ data.addr }}</td>
    <td>{{ data.default }}</td>
    <td>{{ data.writable ? '√' : '-' }}</td>

<!--    <td>{{data.cron}}</td>-->

<!--    <td>{{data.polling_enable ? '√': '-'}}</td>-->
<!--    <td>{{data.polling_times}}</td>-->

    <td>{{ data.created | amDateFormat:'YYYY-MM-DD HH:mm:ss'  }}</td>
    <td>
      <a (click)="edit(data)" title="编辑">
        <i nz-icon nzType="edit"></i>
      </a>
    </td>
  </tr>
  </tbody>
</nz-table>
